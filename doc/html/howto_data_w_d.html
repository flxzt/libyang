<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libyang: Default Values</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="cesnet-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">libyang<span id="projectnumber">&#160;2.1.148</span>
   </div>
   <div id="projectbrief">libyang is YANG data modelling language parser and toolkit written (and providing API) in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('howto_data_w_d.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Default Values</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>libyang provides support for work with default values as defined in <a href="https://tools.ietf.org/html/rfc6243">RFC 6243</a>. However, libyang context do not contains the <em>ietf-netconf-with-defaults</em> module on its own and caller is supposed to add this YANG module to enable full support of the <em>with-defaults</em> features described below. Without presence of the mentioned module in the context, the default nodes are still present and handled in the data trees, but the metadata providing the information about the default values cannot be used. It means that when parsing data, the default nodes marked with the metadata as implicit default nodes are handled as explicit data and when printing data tree, the expected nodes are printed without the ietf-netconf-with-defaults metadata.</p>
<p>The RFC document defines 4 modes for handling default nodes in a data tree, libyang adds the fifth mode and use them via <a class="el" href="group__dataprinterflags.html">Data printer flags</a> when printing data trees.</p><ul>
<li><b>explicit</b> - Only the explicitly set configuration data. But in the case of status data, missing default data are added into the tree. In libyang, this mode is represented by <a class="el" href="group__dataprinterflags.html#ga84f6c315a72fdaa28a94ec42acab4129">LYD_PRINT_WD_EXPLICIT</a> option. This is the default with-defaults mode of the printer. The data nodes do not contain any additional metadata information.</li>
<li><b>trim</b> - Data nodes containing the default value are removed. This mode is applied with <a class="el" href="group__dataprinterflags.html#gad8fe570647778c5bbc1cba2a2e1bcfc3">LYD_PRINT_WD_TRIM</a> option.</li>
<li><b>report-all</b> - This mode provides all the default data nodes despite they were explicitly present in source data or they were added by libyang's <a class="el" href="howto_data_validation.html">validation process</a>. This mode is activated by <a class="el" href="group__dataprinterflags.html#gafb1721cfe723430925ca736cbf0dc0db">LYD_PRINT_WD_ALL</a> option.</li>
<li><b>report-all-tagged</b> - In this case, all the data nodes (implicit as well the explicit) containing the default value are printed and tagged (see the note below). Printers accept <a class="el" href="group__dataprinterflags.html#ga1dd686f9c6c2ed878b8de1e92eae902c">LYD_PRINT_WD_ALL_TAG</a> option for this mode.</li>
<li><b>report-implicit-tagged</b> - The last mode is similar to the previous one, except only the implicitly added nodes are tagged. This is the libyang's extension and it is activated by <a class="el" href="group__dataprinterflags.html#gae7df804986947b822254726fd1cf1984">LYD_PRINT_WD_IMPL_TAG</a> option.</li>
</ul>
<p>Internally, libyang adds the default nodes into the data tree as part of the <a class="el" href="howto_data_validation.html">validation process</a>. When <a class="el" href="howto_data_parsers.html">parsing data</a> from an input source, adding default nodes can be avoided only by avoiding the whole <a class="el" href="howto_data_validation.html">validation process</a>. In case the ietf-netconf-with-defaults module is present in the context, the <a class="el" href="howto_data_parsers.html">parser process</a> also supports to recognize the implicit default nodes marked with the appropriate metadata.</p>
<p>Note, that in a modified data tree (via e.g. <b>lyd_insert_*</b>() or <b>lyd_free_*</b>() functions), some of the default nodes can be missing or they can be present by mistake. Such a data tree is again corrected during the next run of the <a class="el" href="howto_data_validation.html">validation process</a> or manualy using <b>lyd_new_implicit_*</b>() functions.</p>
<p>The implicit (default) nodes, created by libyang, are marked with the <a class="el" href="group__dnodeflags.html#ga7e88553c51cc3cf061635ddd8a2ea854">LYD_DEFAULT</a> flag in <a class="el" href="tree__data_8h.html#a645978149e28429e69e25870edf44668">lyd_node.flags</a> member Note, that besides leafs and leaf-lists, the flag can appear also in containers, where it means that the container holds only a default node(s) or it is implicitly added empty container (according to YANG 1.1 spec, all such containers are part of the accessible data tree). When printing data trees, the presence of empty containers (despite they were added explicitly or implicitly as part of accessible data tree) depends on <a class="el" href="group__dataprinterflags.html#gae1da383488829ef4c8ef129e83e70ea2">LYD_PRINT_KEEPEMPTYCONT</a> option.</p>
<p>To get know if the particular leaf or leaf-list node contains default value (despite implicit or explicit), you can use <a class="el" href="tree__data_8h.html#abf94dd13c544c7be9a49c6d30c1de473" title="Check whether a node value equals to its default one.">lyd_is_default()</a> function.</p>
<h2><a class="anchor" id="autotoc_md19"></a>
Functions List</h2>
<ul>
<li><a class="el" href="tree__data_8h.html#abf94dd13c544c7be9a49c6d30c1de473" title="Check whether a node value equals to its default one.">lyd_is_default()</a></li>
<li><a class="el" href="tree__data_8h.html#a33298dd1881db5a07003e8e85734865f" title="Add any missing implicit nodes. Default nodes with a false &quot;when&quot; are not added.">lyd_new_implicit_all()</a></li>
<li><a class="el" href="tree__data_8h.html#a1f7ea402ee911b4e5e5ac9ee1a0d2f84" title="Add any missing implicit nodes of one module. Default nodes with a false &quot;when&quot; are not added.">lyd_new_implicit_module()</a></li>
<li><a class="el" href="tree__data_8h.html#a4277bb5a915017f19523fe30e9528f92" title="Add any missing implicit nodes into a data subtree. Default nodes with a false &quot;when&quot; are not added.">lyd_new_implicit_tree()</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="howto.html">libyang API Overview</a></li><li class="navelem"><a class="el" href="howto_data.html">Data Instances</a></li><li class="navelem"><a class="el" href="howto_data_parsers.html">Parsing Data</a></li>
    <li class="footer">Generated on Tue Jan 28 2025 10:44:39 for libyang by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
