<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libyang: Building libyang</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="cesnet-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">libyang<span id="projectnumber">&#160;2.1.148</span>
   </div>
   <div id="projectbrief">libyang is YANG data modelling language parser and toolkit written (and providing API) in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('build.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Building libyang</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#buildRequirements">Requirements</a>
    <ul>
      <li class="level2">
        <a href="#buildRequirementsCompile">Building Requirements</a>
        <ul>
          <li class="level3">
            <a href="#buildRequirementsCompileOptional">Optional Requirements</a>
          </li>
        </ul>
      </li>
      <li class="level2">
        <a href="#buildRequirementsRun">Runtime Requirements</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#buildCommands">Building</a>
  </li>
  <li class="level1">
    <a href="#buildTypes">Build Types</a>
    <ul>
      <li class="level2">
        <a href="#buildTypesRelese">Release</a>
      </li>
      <li class="level2">
        <a href="#buildTypesDebug">Debug</a>
      </li>
      <li class="level2">
        <a href="#buildTypesABICheck">ABICheck</a>
      </li>
      <li class="level2">
        <a href="#buildTypesDocOnly">DocOnly</a>
      </li>
    </ul>
  </li>
</ul>
</div>
<div class="textblock"><p>libyang utilizes CMake build system to detect necessary dependencies, checkout the build environment and prepare Makefiles for the compilation of the library and acompanied tools.</p>
<h1><a class="anchor" id="buildRequirements"></a>
Requirements</h1>
<h2><a class="anchor" id="buildRequirementsCompile"></a>
Building Requirements</h2>
<ul>
<li>C compiler (gcc, clang, ...)</li>
<li>CMake &gt;= 2.8.12</li>
<li>libpcre2 (including headers - devel package) &gt;= 10.30</li>
</ul>
<h3><a class="anchor" id="buildRequirementsCompileOptional"></a>
Optional Requirements</h3>
<ul>
<li>doxygen (for generating documentation)</li>
<li>cmocka &gt;= 1.0.0 (for tests)</li>
<li>valgrind (for enhanced testing)</li>
<li>gcov (for code coverage)</li>
<li>lcov (for code coverage)</li>
<li>genhtml (for code coverage)</li>
</ul>
<h2><a class="anchor" id="buildRequirementsRun"></a>
Runtime Requirements</h2>
<ul>
<li>libpcre2 (runtime package) &gt;= 10.30</li>
</ul>
<h1><a class="anchor" id="buildCommands"></a>
Building</h1>
<p>To simply build libyang library and the accompanied tools with the default settings, follow these steps (the <code>#</code> character indicates command(s) to run with <code>root</code> privileges): </p><pre class="fragment">$ mkdir build; cd build
$ cmake ..
$ make
# make install
</pre><p>The default settings can be changed with various CMake variables set via command line or using e.g. <code>ccmake(1)</code> tool. The following sections introduces those variables and explain their meaning.</p>
<h1><a class="anchor" id="buildTypes"></a>
Build Types</h1>
<p>There are several build types according to the primary goal of using the built binaries.</p>
<h2><a class="anchor" id="buildTypesRelese"></a>
Release</h2>
<p>Build type to produce final binaries for production use without any debug option. The compiler flags are set as follows: </p><pre class="fragment">-Wall -Wextra -Wno-missing-field-initializers -std=c99 -O3 -DNDEBUG
</pre><p>Here is the list of the selected additional options available in the <em>Release</em> build type.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ENABLE_BUILD_TESTS   </td><td class="markdownTableBodyNone">Build tests.   </td><td class="markdownTableBodyNone">OFF    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ENABLE_VALGRIND_TESTS   </td><td class="markdownTableBodyNone">Build tests with valgrind.   </td><td class="markdownTableBodyNone">OFF    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ENABLE_COVERAGE   </td><td class="markdownTableBodyNone">Build code coverage report from tests.   </td><td class="markdownTableBodyNone">OFF    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ENABLE_FUZZ_TARGETS   </td><td class="markdownTableBodyNone">Build target programs suitable for fuzzing with AFL.   </td><td class="markdownTableBodyNone">OFF    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ENABLE_STATIC   </td><td class="markdownTableBodyNone">Build static (.a) library   </td><td class="markdownTableBodyNone">OFF    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">INTERNAL_DOCS   </td><td class="markdownTableBodyNone">Include developers notes and internal API description into generated Documentation   </td><td class="markdownTableBodyNone">OFF   </td></tr>
</table>
<p>Here is the list of available important targets for the <code>make(1)</code> tool:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Target   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">all   </td><td class="markdownTableBodyNone">Default target, builds libyang library (.so), <code>yanglint(1)</code> and <code>yangre(1)</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">clean   </td><td class="markdownTableBodyNone">Removes files generated by the make process.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">cclean   </td><td class="markdownTableBodyNone">Extends the <code>clean</code> target by removing all the cmake generated files.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">doc   </td><td class="markdownTableBodyNone">Generate HTML documentation. Requires <code>doxygen(1)</code>.   </td></tr>
</table>
<h2><a class="anchor" id="buildTypesDebug"></a>
Debug</h2>
<p><code>Debug</code> is the default build type, the produced binaries include additional debug information and the prepared tests are also built. The compiler flags are set as follows: </p><pre class="fragment">-Wall -Wextra -Wno-missing-field-initializers -std=c99 -g3 -O0
</pre><p>Here is the list of the selected additional options available in the <em>Debug</em> build type.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ENABLE_BUILD_TESTS   </td><td class="markdownTableBodyNone">Build tests.   </td><td class="markdownTableBodyNone">ON    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ENABLE_VALGRIND_TESTS   </td><td class="markdownTableBodyNone">Build tests with valgrind.   </td><td class="markdownTableBodyNone">ON    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ENABLE_COVERAGE   </td><td class="markdownTableBodyNone">Build code coverage report from tests.   </td><td class="markdownTableBodyNone">OFF    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ENABLE_FUZZ_TARGETS   </td><td class="markdownTableBodyNone">Build target programs suitable for fuzzing with AFL.   </td><td class="markdownTableBodyNone">OFF    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ENABLE_STATIC   </td><td class="markdownTableBodyNone">Build static (.a) library   </td><td class="markdownTableBodyNone">OFF    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">INTERNAL_DOCS   </td><td class="markdownTableBodyNone">Include developers notes and internal API description into generated Documentation   </td><td class="markdownTableBodyNone">OFF   </td></tr>
</table>
<p>Here is the list of available important targets for the <code>make(1)</code> tool:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Target   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">all   </td><td class="markdownTableBodyNone">Default target, builds libyang library (.so), <code>yanglint(1)</code> and <code>yangre(1)</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">clean   </td><td class="markdownTableBodyNone">Removes files generated by the make process.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">cclean   </td><td class="markdownTableBodyNone">Extends the <code>clean</code> target by removing all the cmake generated files.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">doc   </td><td class="markdownTableBodyNone">Generate HTML documentation. Requires <code>doxygen(1)</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">test   </td><td class="markdownTableBodyNone">Run implementation tests. Requires <code>cmocka</code> (and <code>valgrind(1)</code> for part of the tests).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">format   </td><td class="markdownTableBodyNone">Reformat source codes using <code>uncrustify(1)</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">format-check   </td><td class="markdownTableBodyNone">Dry-run of the <code>format</code> target.   </td></tr>
</table>
<h2><a class="anchor" id="buildTypesABICheck"></a>
ABICheck</h2>
<p>Special build type to perform check of the ABI/API compatibility and generate reports. In addition to the basic requirements, the build type requires some of the <a href="https://abi-laboratory.pro/">ABI Laboratory tools</a>: <code>abi-dumper(1)</code> and <code>abi-compliance-checker(1)</code>.</p>
<p>The compiler flags are set as follows: </p><pre class="fragment">-Wall -Wextra -Wno-missing-field-initializers -std=c99 -g -Og
</pre><p>All the additional options are switched OFF and the settings should not be changed.</p>
<p>Here is the list of available important targets for the <code>make(1)</code> tool:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Target   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">all   </td><td class="markdownTableBodyNone">Default target, builds libyang library (.so), <code>yanglint(1)</code> and <code>yangre(1)</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">clean   </td><td class="markdownTableBodyNone">Removes files generated by the make process.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">cclean   </td><td class="markdownTableBodyNone">Extends the <code>clean</code> target by removing all the cmake generated files.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">doc   </td><td class="markdownTableBodyNone">Generate HTML documentation. Requires <code>doxygen(1)</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">abi-check   </td><td class="markdownTableBodyNone">Check the backward compatibility of the API/ABI changes. Requires <code>abi-compliance-checker(1)</code> and <code>abi-dump(1)</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">abi-dump   </td><td class="markdownTableBodyNone">Helper target for <code>abi-check</code> generating API/ABI reports. Requires <code>abi-dump(1)</code>.   </td></tr>
</table>
<h2><a class="anchor" id="buildTypesDocOnly"></a>
DocOnly</h2>
<p>Special build type to avoid any requirements except those for building documentation. There are no compiler flags set since the build type does not allow building any binary output. The settings of the additional options should not be changed.</p>
<p>Here is the list of available important targets for the <code>make(1)</code> tool:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Target   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">all   </td><td class="markdownTableBodyNone">Default target, does nothing.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">doc   </td><td class="markdownTableBodyNone">Generate HTML documentation. Requires <code>doxygen(1)</code>.   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Jan 28 2025 10:44:39 for libyang by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
