<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libyang: Transition Manual (1.x -&gt; 2.0)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="cesnet-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">libyang<span id="projectnumber">&#160;2.1.148</span>
   </div>
   <div id="projectbrief">libyang is YANG data modelling language parser and toolkit written (and providing API) in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('transition.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Transition Manual (1.x -&gt; 2.0)</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#transitionGeneral">General Changes</a>
    <ul>
      <li class="level2">
        <a href="#transitionGeneralErros">Errors Handling</a>
      </li>
      <li class="level2">
        <a href="#transitionGeneralInOut">Input / Output Processing</a>
      </li>
      <li class="level2">
        <a href="#transitionGeneralOutputFormatting">Output Formatting</a>
      </li>
      <li class="level2">
        <a href="#transitionGeneralXPath">Addressing</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#transitionContext">Context</a>
  </li>
  <li class="level1">
    <a href="#transitionSchemas">YANG Modules (Schema)</a>
  </li>
  <li class="level1">
    <a href="#transitionData">Data Instances</a>
  </li>
</ul>
</div>
<div class="textblock"><p>Rewriting libyang codebase and creating libyang version 2.0 was motivated mainly by improving long term maintainability. Especially some of the features and design decisions become killers for further development and maintaining the libyang codebase. On the other hand, most of the principles introduced in libyang 1.x to handle YANG schemas and manipulate instantiated data have proved successful. Therefore, we have decided to keep the basic mechanisms from version 1.x and remove the problematic features and modify the improper design decisions. Despite the vision to keep with the mechanisms also the API, the new version became a great opportunity to clean up the API and improve its usability mainly by unifying how the libyang functions are used. So, in the end, this manual is not just a description of the removed features listing removed, modified or added functions. The API should be even better prepared for adding new features and functions. Shortly, almost everything has changed at least a little, so you cannot move from version 1.x to 2.0 just by replacing code snippets. However, we believe that the change is good and libyang 2.0 is simply better.</p>
<p>In this Manual, we want to introduce the differences between libyang 1.x and 2.0. It is intended for the transition from 1.x to 2.0, so if you are new to libyang, simply go to the <a class="el" href="howto.html">libyang API Overview</a> section, this Manual is not for you.</p>
<p>The complete generated list of changes (without any additional notes) can be found in <a href="../compat_report.html">the compatibility report</a>.</p>
<h1><a class="anchor" id="transitionGeneral"></a>
General Changes</h1>
<h2><a class="anchor" id="transitionGeneralErros"></a>
Errors Handling</h2>
<p>The most visible change is probably the changed approach to handling errors. While libyang 1.x was using variable <em>ly_errno</em> to provide error information in case the called function failed, there is no such variable in libyang 2.0. On the other hand, most API functions now return <a class="el" href="group__errors.html#gabfc4235478f06567d878806b8c0c6992" title="libyang&#39;s error codes returned by the libyang functions.">LY_ERR</a> values directly stating the result. In addition, in case the error is somehow connected with the <a class="el" href="howto_context.html">context</a>, more detailed error information can be obtained from the context handler itself. Mainly this change is responsible for the backward incompatibility of almost all functions between versions 1.x and 2.0.</p>
<p>Here is the overview of the changed / removed / added functions connected with errors and logging.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__errors.html#ga01532543262e20509058aa14845f4ca3" title="Get the latest (thread, context-specific) generated error structure.">ly_err_last()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">New API for handling errors.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__errors.html#ga7e8b6502d7216efba94dd7696b113f69" title="Get the last (thread, context-specific) error code.">ly_errcode()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ly_verb_dbg()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__log.html#ga1791b2a4f86a228046d6d6e0b3ddf245" title="Enable specific debugging messages (independent of log level).">ly_log_dbg_groups()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">Rename to align with the names of the accepted values.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">ly_verb()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__log.html#ga7c84bbc79b3e6a83e6ccdccf2e846e7b" title="Set logger verbosity level.">ly_log_level()</a>   </td></tr>
</table>
<p>More information about error handling in libyang 2.0 can be found at <a class="el" href="howto_errors.html">Errors Handling</a> page.</p>
<h2><a class="anchor" id="transitionGeneralInOut"></a>
Input / Output Processing</h2>
<p>libyang 2.0 introduces input (<a class="el" href="namespace_3global_scope_4.html#structly__in" title="Parser input structure specifying where the data are read.">ly_in</a>) and output (<a class="el" href="namespace_3global_scope_4.html#structly__out" title="Printer output structure specifying where the data are printed.">ly_out</a>) handlers covering the specific input sources for parsers and output targets for printers. They are supposed mainly to simplify parser's and printer's API to avoid the need for separate functions for each source/target. The handlers can be used repeatedly to split the inputs or join the outputs.</p>
<p>More information can be found at <a class="el" href="howto_input.html">Input Processing</a> and <a class="el" href="howto_output.html">Output Processing</a> pages.</p>
<h2><a class="anchor" id="transitionGeneralOutputFormatting"></a>
Output Formatting</h2>
<p>In libyang 1.x, there was an inconsistency in printing schemas and data. While the schemas were always printed formatted, the data were printed by default without additional indentation. It is clearly visible in the YIN format of the schema, which is XML, and the XML encoding of the data. While there was a possibility to format data output with the LYP_FORMAT flag, it wasn't possible to change schema output formatting.</p>
<p>libyang 2.0 unifies the behavior of all printers. By default, all the output formats are formatted now. Both, the data as well as the schema printers, accept the option to remove additional formatting (different for the specific format, usually indentations and blank lines): <a class="el" href="group__dataprinterflags.html#ga6360dfa2c2afbaed4af11f6cd92ed4d1">LYD_PRINT_SHRINK</a> for the data printer and <a class="el" href="group__schemaprinterflags.html#ga51a93654b60f42856001e31d0a0ddb62">LYS_PRINT_SHRINK</a> for the schema printer.</p>
<h2><a class="anchor" id="transitionGeneralXPath"></a>
Addressing</h2>
<p>If you compare the <a class="el" href="howto_x_path.html">XPath Addressing</a> page from libyang 1.x and 2.0 documentation, you will be probably confused since they seem very different. In fact, we have tried to simplify the API by removing the original Schema path format from the public API. Since this format is used in YANG format, libyang still supports it internally, but it is not possible to use it anywhere in the API. The new formats XPath and Path, mentioned at the <a class="el" href="howto_x_path.html">XPath Addressing</a> page, are both the Data paths used in libyang 1.x. The Path format is a subset of XPath format limited to refer to a single node.</p>
<p>This change was reflected in functions serving to get a node based on the specified path. Unfortunately, when comparing old and new API, the transition can be confusing since the names are sometimes overloaded (be careful mainly of <a class="el" href="group__schematree.html#gaba138f6c664abf0be94653f32c89fbff" title="Get a schema node based on the given data path (JSON format, see XPath Addressing).">lys_find_path()</a>). The following table depicts the changes, but probably a better approach is to handle the functions as a completely new API.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ly_ctx_find_path()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">To simplify the different <a class="el" href="howto_x_path.html">types of paths</a>, the Schema path format is not supported for now. If there will be use cases for it, it can be re-added later, but for now try using <a class="el" href="group__schematree.html#gaf4750d2dea7e912751891700499d4def" title="Evaluate an xpath expression on schema nodes.">lys_find_xpath()</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lys_find_path()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">To simplify the different <a class="el" href="howto_x_path.html">types of paths</a>, the Schema path format is not supported for now. If there will be use cases for it, it can be re-added later, but for now try using <a class="el" href="group__schematree.html#gaf4750d2dea7e912751891700499d4def" title="Evaluate an xpath expression on schema nodes.">lys_find_xpath()</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ly_ctx_get_node()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gaba138f6c664abf0be94653f32c89fbff" title="Get a schema node based on the given data path (JSON format, see XPath Addressing).">lys_find_path()</a>   </td><td class="markdownTableBodyLeft">Renamed to unify API functions, note that there was lys_find_path in libyang 1.x with different functionality in comparison to the function of the same name from libyang 2.0.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga59d062efccdbd022eb6e30c2a30f8632" title="Get all the schema nodes that are required for path to be evaluated (atoms).">lys_find_path_atoms()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">Extension of <a class="el" href="group__schematree.html#gaba138f6c664abf0be94653f32c89fbff" title="Get a schema node based on the given data path (JSON format, see XPath Addressing).">lys_find_path()</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gac830c6fecd2d959381a6c307db07dc51" title="Get all the schema nodes that are required for path to be evaluated (atoms).">lys_find_lypath_atoms()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gaf4750d2dea7e912751891700499d4def" title="Evaluate an xpath expression on schema nodes.">lys_find_xpath()</a>   </td><td class="markdownTableBodyLeft">New function reflecting updated <a class="el" href="howto_x_path.html">XPath Addressing</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lys_xpath_atomize()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga9d50bf8a59353f8a99ac38802517c4ef" title="Get all the schema nodes that are required for xpath to be evaluated (atoms).">lys_find_xpath_atoms()</a>   </td><td class="markdownTableBodyLeft">Rename to unify with the new API, extends <a class="el" href="group__schematree.html#gaf4750d2dea7e912751891700499d4def" title="Evaluate an xpath expression on schema nodes.">lys_find_xpath()</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga71e55e145958ed0c9713248b8b9ad02c" title="Get all the schema nodes that are required for expr to be evaluated (atoms).">lys_find_expr_atoms()</a>   </td><td class="markdownTableBodyLeft">Extension of <a class="el" href="group__schematree.html#gaf4750d2dea7e912751891700499d4def" title="Evaluate an xpath expression on schema nodes.">lys_find_xpath()</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_path()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a1acafa02872b3c35cf8a8df2aba48935" title="Generate path of the given node in the requested format.">lyd_path()</a>   </td><td class="markdownTableBodyLeft">Same purpose, just extended functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a21136839d28e3be50f59c71acb47f9a5" title="Search in given data for a node uniquely identified by a path.">lyd_find_path()</a>   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a0e7048eaa5c9477cf0373790fa6a0f7f" title="Search in the given data for instances of nodes matching the provided XPath.">lyd_find_xpath()</a>   </td><td class="markdownTableBodyLeft">Rename to unify with the new API.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a21136839d28e3be50f59c71acb47f9a5" title="Search in given data for a node uniquely identified by a path.">lyd_find_path()</a>   </td><td class="markdownTableBodyLeft">Simplified version of <a class="el" href="tree__data_8h.html#a21136839d28e3be50f59c71acb47f9a5" title="Search in given data for a node uniquely identified by a path.">lyd_find_path()</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga5ee0c0be1838c7d59db497d0a7241e03" title="Getter for original XPath expression from a parsed expression.">lyxp_get_expr()</a>   </td><td class="markdownTableBodyLeft">Added functionality due to the changed representation of XPath expressions.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ly_path_data2schema()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Removed since the schema path is not available in API.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">ly_path_xml2json()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Removed since done internally, note that even the generic XML parser is not available now.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lys_node_xpath_atomize()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Removed as useless/redundant, use <a class="el" href="group__schematree.html#ga9d50bf8a59353f8a99ac38802517c4ef" title="Get all the schema nodes that are required for xpath to be evaluated (atoms).">lys_find_xpath_atoms()</a>.   </td></tr>
</table>
<h1><a class="anchor" id="transitionContext"></a>
Context</h1>
<p>Context, as a concept of a storage interconnecting YANG modules into a YANG schema and YANG schema with the instantiated data, was preserved. However, it is now more supposed to be prepared just once before connecting it with any instantiated data. The possibility of removing YANG modules from the context was completely dropped. Furthermore, we would like to introduce some kind of context lock to completely abandon any change of the YANG modules after starting work with the instantiated data.</p>
<p>Another change to note is the removed destructor of private data (<a class="el" href="group__schematree.html#a83d1dfdd6dc1c916094f62ec96213998">lysc_node.priv</a>) in <a class="el" href="group__context.html#ga7677ab72c8bcaa621e0ae4063076d7f7" title="Free all internal structures of the specified context.">ly_ctx_destroy()</a>. The mechanism was not reliable with the context recompilation and the splitted parsed and compiled schema trees or the complexity of YANG extensions. It is better to let the caller maintain the allocated data directly via some memory pool or using <a class="el" href="group__schematree.html#ga0563df36d2f895685b4e2881c9ee3c0a" title="DFS traversal of all the schema nodes in a (sub)tree including any actions and nested notifications.">lysc_tree_dfs_full()</a> since he is the best to know where the additional data were added.</p>
<p>The meaining of the <a class="el" href="group__schematree.html#a83d1dfdd6dc1c916094f62ec96213998">lysc_node.priv</a> pointer can be now also changed by <a class="el" href="group__contextoptions.html#ga7883206423631283065208634d57e056">LY_CTX_SET_PRIV_PARSED</a> context option, which makes libyang to connect the original parsed schema node structure (<a class="el" href="group__schematree.html#structlysp__node" title="Generic YANG data node.">lysp_node</a>) into the compiled nodes via their 'priv' pointer.</p>
<p>Other significant changes connected with the context are depicted in the following table.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ly_ctx_clean()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft" rowspan="4">Removed functionality of manipulating with the context and the modules already placed in the context.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">ly_ctx_remove_module()   </td><td class="markdownTableBodyLeft">-    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ly_ctx_set_module_data_clb() and the associated ly_module_data_clb type.   </td><td class="markdownTableBodyLeft">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">ly_ctx_get_disabled_module() and the associated ly_ctx_get_disabled_module_iter()   </td><td class="markdownTableBodyLeft">-    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ly_ctx_info()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga34a07a3afcc26cd0615e629924179945" title="Get data of the internal ietf-yang-library module with information about all the loaded modules....">ly_ctx_get_yanglib_data()</a>   </td><td class="markdownTableBodyLeft">Clarification of what to expect as the output of the function and possibility to specify custom content ID.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">ly_ctx_get_module_set_id()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#gaecfb3bae1347b1ff07ee3b3e55e96dac" title="Get the change count of the context (module set) during its life-time.">ly_ctx_get_change_count()</a>   </td><td class="markdownTableBodyLeft">The functionality is the same but the exact meaning of the value was clarified.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga847a60f97cd514dd755d0b2e4e6d54c8" title="Remove the least recently added search path(s) from the libyang context.">ly_ctx_unset_searchdir_last()</a>   </td><td class="markdownTableBodyLeft">Extend the functionality of the <a class="el" href="group__context.html#ga0fdeb55ccad44d3b4b78bb116959c9d4" title="Clean the search path(s) from the libyang context.">ly_ctx_unset_searchdir()</a> to make its use easier.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">ly_ctx_get_module_older()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Removed functionality.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga3103754834298177ec380a555cea70f0" title="Get the (only) implemented YANG module specified by its name.">ly_ctx_get_module_implemented()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">Supplement for <a class="el" href="group__context.html#ga3f96a2aa769ba4910bbb6af479abd101" title="Get YANG module of the given name and revision.">ly_ctx_get_module()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#gafe8af16b91e25869a784f32eb86d8f3f" title="Get the latest revision of the YANG module specified by its name.">ly_ctx_get_module_latest()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#gac51dc9a3127acfd4a551f21c30bec49b" title="Get the (only) implemented YANG module specified by its namespace.">ly_ctx_get_module_implemented_ns()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">Supplement for <a class="el" href="group__context.html#ga9aeee46c2c84a3138d7fc164a4168613" title="Get YANG module of the given namespace and revision.">ly_ctx_get_module_ns()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#gaa87a30c6b9b75eb9acbae04e253ce96b" title="Get the latest revision of the YANG module specified by its namespace.">ly_ctx_get_module_latest_ns()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga791db2a28a723fa4c5d3e0c0648d8c85" title="Get the latests revision of a submodule from context. If its belongs-to module is known,...">ly_ctx_get_submodule_latest()</a>   </td><td class="markdownTableBodyLeft">Supplement for <a class="el" href="group__context.html#ga60fc25c4a14a47dde327f95f6016b59b" title="Get a specific submodule from context. If its belongs-to module is known, use ly_ctx_get_submodule2()...">ly_ctx_get_submodule()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga911278e5a9e0fbeeb71d99e34954f4f5" title="Get the latest revision of a submodule from a module. If the belongs-to module is not known,...">ly_ctx_get_submodule2_latest()</a>   </td><td class="markdownTableBodyLeft">Supplement for <a class="el" href="group__context.html#gadfecb8bfe0a51500a644a3de4ad852ac" title="Get a specific submodule from a module. If the belongs-to module is not known, use ly_ctx_get_submodu...">ly_ctx_get_submodule2()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ly_ctx_get_module_by_ns()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga9aeee46c2c84a3138d7fc164a4168613" title="Get YANG module of the given namespace and revision.">ly_ctx_get_module_ns</a> ()   </td><td class="markdownTableBodyLeft">Redesign the API - replace some of the parameters with standalone supplement functions.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga969426519ea501704daf6019ec934de5" title="Reset cached latest revision information of the schemas in the context.">ly_ctx_reset_latests()</a>   </td><td class="markdownTableBodyLeft">The new functionality of maintaining the latest module revision flag.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ly_ctx_unset_searchdirs()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga0fdeb55ccad44d3b4b78bb116959c9d4" title="Clean the search path(s) from the libyang context.">ly_ctx_unset_searchdir()</a>   </td><td class="markdownTableBodyLeft">Simplify API and instead of index numbers, work with the values themselves.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">ly_ctx_set*()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga1891df928268ec799f11435d80a32e42" title="Set some of the context&#39;s options, see Context options.">ly_ctx_set_options()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">API simplification.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ly_ctx_unset*()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga542b84c9cdcf7f397259d7178ee38b7c" title="Unset some of the context&#39;s options, see Context options.">ly_ctx_unset_options()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga7677ab72c8bcaa621e0ae4063076d7f7" title="Free all internal structures of the specified context.">ly_ctx_destroy()</a>   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga7677ab72c8bcaa621e0ae4063076d7f7" title="Free all internal structures of the specified context.">ly_ctx_destroy()</a>   </td><td class="markdownTableBodyLeft">The destructor callback parameter was removed, see the notes above.   </td></tr>
</table>
<h1><a class="anchor" id="transitionSchemas"></a>
YANG Modules (Schema)</h1>
<p>The most significant change between libyang 1.x and 2.0 can be found in schema structures. The schema tree now has two different forms - parsed and compiled trees. While the parsed tree reflects the source of the YANG module, the compiled tree represents the final tree used to validate the instantiated data. Both formats can be found inside the covering <a class="el" href="group__schematree.html#structlys__module" title="Available YANG schema tree structures representing YANG module.">lys_module</a> structure. More about the new structures can be found at <a class="el" href="howto_schema.html">YANG Modules</a> page.</p>
<p>This is an essential change allowing speed up and simplification of data validation, but requiring carefully determine which format is more suitable for the specific use case. As mentioned, the compiled trees are better for data validation and getting information about the intentioned structure of the schema with all the applied groupings, type modifications, augments, deviations, and any defined if-features. On the other hand, the parsed trees are useful for the schema format conversions since they provide the original structure of the modules. There is a number of new functions intended to work only with the parsed or the compiled tree. These functions are prefixed with <code>lysp_</code> and <code>lysp_</code> prefixes.</p>
<p>Schema parser, as well as printer functions, are now extended to accept new <a class="el" href="#transitionGeneralInOut">input / output handlers</a>. The previous API working directly with inputs and outputs is preserved (or slightly changed), but the functions can be limited in the functionality of the new API. More information can be found at <a class="el" href="howto_schema_parsers.html">Parsing YANG Modules</a> and <a class="el" href="howto_schema_printers.html">Module Printers</a> pages.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga00aca91d599c3cda36e58c3e0f280a31" title="Load a schema into the specified context.">lys_parse()</a>   </td><td class="markdownTableBodyLeft">New generic schema parser API using <a class="el" href="howto_input.html">generic input handler</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gaeba3744deb5ca8701ec947a3b16ebb59" title="Schema module printer.">lys_print_module()</a>   </td><td class="markdownTableBodyLeft" rowspan="3">New generic schema printer API using <a class="el" href="howto_output.html">generic output handler</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gad97e9652483fb9927d31d8cfdb81f0a2" title="Schema node printer.">lys_print_node()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga274933c3d6f0b2c6fb54aefc23767c87" title="Schema submodule printer.">lys_print_submodule()</a>   </td></tr>
</table>
<p>The following table introduces other significant changes in the API functions connected with the schema.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lys_set_private()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Not needed, all <a class="el" href="group__schematree.html#structlysc__node" title="Compiled YANG data node.">lysc_node</a> compatible structures have this pointer so it can be accessed directly.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lys_is_disabled()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Make no sense since the nodes disabled by if-feature are not present in the compiled tree.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lys_features_list()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Not needed, the list of features is available in the parsed tree of the module and submodule.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lys_features_enable(), lys_features_enable_force()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gaa85994eab6b0edf898d65e3181743959" title="Make the specific module implemented.">lys_set_implemented()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">Set of enabled features can be changed but it causes the whole context (all the modules) to recompile.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lys_features_disable(), lys_features_disable_force()   </td><td class="markdownTableBodyLeft">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lys_features_state()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Redesign of the features handling in the schema tree, the feature's status is newly directly visible as <a class="el" href="group__snodeflags.html#gae38da371b11e6a477ed41c8ed7422f23">LYS_FENABLED</a> flag (in parsed feature structure).    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gac82d518279113d7de42b11d7a3759c82" title="Get the current real status of the specified feature in the module.">lys_feature_value()</a>   </td><td class="markdownTableBodyLeft">Simplified API to get feature's state only based on a feature name string.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gacf72dd44d4d3fdec8ea7791742887a45" title="Get the next feature in the module or submodules.">lysp_feature_next()</a>   </td><td class="markdownTableBodyLeft">After redesigning features handling, this function helps to iterate over all features connected with the module.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lys_iffeature_value()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga3e53187c60f54f4ecbc19ddd74ec5a10" title="Get how the if-feature statement currently evaluates.">lysc_iffeature_value()</a>   </td><td class="markdownTableBodyLeft">Renamed, but note that after features handling redesign, the compiled if-feature structure to evaluate is only in <a class="el" href="group__schematree.html#a7030374cd293c77b7b1508beadcadb5f">lysp_feature.iffeatures_c</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lys_iffeature_value()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft" rowspan="2">Not needed since the if-feature statements are directly applied onto the compiled tree.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lys_is_disabled()   </td><td class="markdownTableBodyLeft">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lys_parent()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">The compiled tree is more straightforward without the need to take care of nodes added via augments.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lys_main_module()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft" rowspan="2">The compiled tree does not include submodules, so there is always only the main module.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lys_node_module()   </td><td class="markdownTableBodyLeft">-    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lys_set_enabled()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft" rowspan="2">It is not possible to change context this way (remove or disable modules).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lys_set_disabled()   </td><td class="markdownTableBodyLeft">-    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga27422f6908553ced5ebc61decf4a8ab3" title="Get child node according to the specified criteria.">lys_find_child()</a>   </td><td class="markdownTableBodyLeft">Helpers wrapper around <a class="el" href="group__schematree.html#gaeb9fc3101ead041d1e34e657c4cfb498" title="Get next schema (sibling) node element in the schema order that can be instantiated in a data tree....">lys_getnext()</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gabb3c0c998ea712df180cab58529513ba" title="Get next schema (sibling) node element in the schema order of an extension that can be instantiated i...">lys_getnext_ext()</a>   </td><td class="markdownTableBodyLeft">Alternative to <a class="el" href="group__schematree.html#gaeb9fc3101ead041d1e34e657c4cfb498" title="Get next schema (sibling) node element in the schema order that can be instantiated in a data tree....">lys_getnext()</a> allowing processing schema trees inside extension instances.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga9d742778343caf4aee53f760c6be5b1d" title="Stringify schema nodetype.">lys_nodetype2str()</a>   </td><td class="markdownTableBodyLeft">New functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lys_is_key()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gae85ee079241f50bc54ce83a4b3b1c4c2" title="Examine whether a node is a list&#39;s key.">lysc_is_key()</a>   </td><td class="markdownTableBodyLeft">Renamed to connect with the compiled schema tree.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gaf31bddac217ec0b296065825985159ef" title="Examine whether a node is user-ordered list or leaf-list.">lysc_is_userordered()</a>   </td><td class="markdownTableBodyLeft" rowspan="5">Added functionality to simplify the examination of generic compiled schema nodes.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga6f2d4e1f3b1b57a2e6ad9c7160cd85ae" title="Examine whether a node is a non-presence container.">lysc_is_np_cont()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gab6e673747bb2daab76a120936e985608" title="Get the children linked list of the given (compiled) schema node.">lysc_node_child()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gac8ffea6628e7ff93970db74ca05a71c3" title="Get the actions/RPCs linked list of the given (compiled) schema node. Decides the node&#39;s type and in ...">lysc_node_actions()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga411c8d4050a0d7ce5d639a97c210ff57" title="Get the Notifications linked list of the given (compiled) schema node. Decides the node&#39;s type and in...">lysc_node_notifs()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gacd575b6462b8257013b1081f29b6dcb1" title="Get the children linked list of the given (parsed) schema node. Decides the node&#39;s type and in case i...">lysp_node_child()</a>   </td><td class="markdownTableBodyLeft" rowspan="5">Added functionality to simplify the examination of generic parsed schema nodes.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga22e7e4fdef950d73ecc5f0a9fc7479dd" title="Get the actions/RPCs linked list of the given (parsed) schema node. Decides the node&#39;s type and in ca...">lysp_node_actions()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga7eecdbed6b9e67c75114798bd77933bb" title="Get the Notifications linked list of the given (parsed) schema node. Decides the node&#39;s type and in c...">lysp_node_notifs()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga8642576d85f6f0b5626336de07f3eaa5" title="Get the groupings linked list of the given (parsed) schema node. Decides the node&#39;s type and in case ...">lysp_node_groupings()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gaaa75ec8d1a620c6f8c29a80382588107" title="Get the typedefs sized array of the given (parsed) schema node. Decides the node&#39;s type and in case i...">lysp_node_typedefs()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#ga0563df36d2f895685b4e2881c9ee3c0a" title="DFS traversal of all the schema nodes in a (sub)tree including any actions and nested notifications.">lysc_tree_dfs_full()</a>   </td><td class="markdownTableBodyLeft">Alternative DFS passing implementation to <a class="el" href="group__schematree.html#gaa2610419cf801f0a83c46263c1aaf381" title="Macro to iterate via all elements in a schema (sub)tree including input and output....">LYSC_TREE_DFS_BEGIN</a> macro.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gac881a7490ff3bedd80002387832a28ed" title="DFS traversal of all the schema nodes in a module including RPCs and notifications.">lysc_module_dfs_full()</a>   </td><td class="markdownTableBodyLeft">Supplement functionality to <a class="el" href="group__schematree.html#ga0563df36d2f895685b4e2881c9ee3c0a" title="DFS traversal of all the schema nodes in a (sub)tree including any actions and nested notifications.">lysc_tree_dfs_full()</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lys_path(), lys_data_path()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__schematree.html#gac3cc38edd1e9fe4a7a647f88120f609c" title="Generate path of the given node in the requested format.">lysc_path()</a>   </td><td class="markdownTableBodyLeft">Redesigned functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lys_data_path_pattern()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Removed as useless    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lys_implemented_module()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__context.html#ga3103754834298177ec380a555cea70f0" title="Get the (only) implemented YANG module specified by its name.">ly_ctx_get_module_implemented()</a>   </td><td class="markdownTableBodyLeft">Removed, the same result can be simply achieved using <a class="el" href="group__context.html#ga3103754834298177ec380a555cea70f0" title="Get the (only) implemented YANG module specified by its name.">ly_ctx_get_module_implemented()</a>.   </td></tr>
</table>
<p>There is a set of functions available to implement data type plugins for storing and manipulating data values in a more natural way to the specific data type. For example, IPv4 address type is defined as a string with a pattern, but it is more effective and usual to store and handle IPv4 as a 32-bit number.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lys_getnext_union_type()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Removed after the type representation redesign.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__plugins_types.html#ga9bf017fa7c164d6e2c19383dec32d82f" title="Decide if the derived identity is derived from (based on) the base identity.">lyplg_type_identity_isderived()</a>   </td><td class="markdownTableBodyLeft" rowspan="6">Helper functions for base types.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__plugins_types.html#gae274e3a8d23a90f28796e12abb324f82" title="Convert a string with a decimal64 value into libyang representation: ret = value * 10^fraction-digits...">lyplg_type_parse_dec64()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__plugins_types.html#ga07feb435691d153f344918470c7bce5d" title="Unsigned integer value parser and validator.">lyplg_type_parse_int()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__plugins_types.html#ga55904b6dabb1e677bc1b7533f125e533" title="Unsigned integer value parser and validator.">lyplg_type_parse_uint()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__plugins_types.html#ga2e6047ecfe5a8b94583ca61c10e1c7c0" title="Data type validator for pattern-restricted string values.">lyplg_type_validate_patterns()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__plugins_types.html#ga9cb155161a68bc8b8737c1654f49be63" title="Data type validator for a range/length-restricted values.">lyplg_type_validate_range()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__plugins_types.html#ga9f45fe441940b862a3285c1be671af71" title="Get format-specific prefix for a module.">lyplg_type_get_prefix()</a>   </td><td class="markdownTableBodyLeft" rowspan="4">Helper functions for processing prefixes in data values.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__plugins_types.html#gad322db5f3c9dc1d0cbf133b7aa7b3a2f" title="Store used prefixes in a string into an internal libyang structure used in lyd_value.">lyplg_type_prefix_data_new()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__plugins_types.html#gad719f266a017c87ce4cade1dce7bb05e" title="Duplicate prefix data.">lyplg_type_prefix_data_dup()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__plugins_types.html#gaf9684b4fce23acb8fddd32ec023d83ce" title="Free internal prefix data.">lyplg_type_prefix_data_free()</a>   </td></tr>
</table>
<p>YANG extensions are supported via <a class="el" href="group__plugins_extensions.html">extension plugins API</a> allowing to implement specific extension and load its support into libyang as a shared module. libyang implements several extensions on its own (see <a class="el" href="howto_plugins_extensions.html">Extension Plugins</a>), but even these internal implementations use the same API. The API and <a class="el" href="howto_plugins.html">mechanism of loading</a>external plugins" changed a lot in contrast to libyang 1.x. The plugins are now loaded automatically
with creating the first libyang context. The only public function to handle external plugins is ::lyplg_add().


&lt;table class="markdownTable"&gt;
  &lt;tr class="markdownTableHead"&gt;    &lt;th class="markdownTableHeadLeft"&gt; libyang 1.x   </p>
<p>libyang 2.0   </p>
<p>Notes    </p>
<p>lys_ext_complex_get_substmt()   </p>
<p><a class="el" href="group__plugins_extensions.html#structlysc__ext__substmt" title="Structure representing a compiled known YANG substatement in an extension instance.">lysc_ext_substmt()</a>   </p>
<p>Changed design of the extensions and the way how it's substatements are accessed.    </p>
<p>lys_ext_instance_presence()   </p>
<p><a class="el" href="group__plugins_extensions.html#structlysc__ext__substmt" title="Structure representing a compiled known YANG substatement in an extension instance.">lysc_ext_substmt()</a>    </p>
<p>lys_ext_instance_substmt()   </p>
<p><a class="el" href="group__plugins_extensions.html#structlysc__ext__substmt" title="Structure representing a compiled known YANG substatement in an extension instance.">lysc_ext_substmt()</a>    </p>
<p>ly_clean_plugins()   </p>
<p>-   </p>
<p>Manipulating external plugins (from plugins directories) is now automatically connected with creating (first) and destroying (last) libyang contexts.    </p>
<p>ly_get_loaded_plugins()   </p>
<p>-    </p>
<p>ly_load_plugins()   </p>
<p>-    </p>
<p>ly_register_exts()   </p>
<p><a class="el" href="group__plugins.html#ga76bce204f9760331242b1cdb51d6bf2d" title="Manually load a plugin file.">lyplg_add()</a>   </p>
<p>Redesigned to a common function for any plugin type.    </p>
<p>ly_register_types()   </p>
<p><a class="el" href="group__plugins.html#ga76bce204f9760331242b1cdb51d6bf2d" title="Manually load a plugin file.">lyplg_add()</a>   </p>
<h1><a class="anchor" id="transitionData"></a>
Data Instances</h1>
<p>Conceptually, the data tree did not change as much as the schema tree. There is still a generic <a class="el" href="tree__data_8h.html#structlyd__node" title="Generic structure for a data node.">lyd_node</a> structure that maps according to the schema node's nodetype to some of the other lyd_node_* structures. All the data nodes were extended by hashes to improve performance when searching and processing data trees. The hashes are used for example in the lyd_find_* functions.</p>
<p>All the data nodes are also implicitly ordered following the order of the schema nodes. This is the reason to change the insertion function. Only the user-ordered lists and leaf-lists can be now placed relative to other instances of the same list/leaf-list. Otherwise, the data instance is always inserted/created at the correct place beside the right sibling nodes.</p>
<p>For any functions that are available on inputs of different scale (node, subtree, all siblings, whole data tree), there are several variants of the specific function with suffix specifying what exactly the processed input will be (_single, _tree, _siblings, _all). This way the behavior is always clear in the code.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_insert_after()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a9bf377c2ef890f0ecb05c9d8c4500250" title="Insert a node after another node, can be used only for user-ordered nodes. If inserting several sibli...">lyd_insert_after()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">Changed meaning by limiting applicability only to user-ordered list and leaf-list instances.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_insert_before()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a7bd0eb0426da05bc4b65c3cdf79efba6" title="Insert a node before another node, can be used only for user-ordered nodes. If inserting several sibl...">lyd_insert_before()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_schema_sort()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Not necessary since the nodes are sorted implicitly.   </td></tr>
</table>
<p>Parsing data instances in XML format is newly done directly, without any interstep. Therefore, complete XML API (lyxml_*() functions) from libyang 1.x was removed.</p>
<p>Parser's API was simplified to avoid variadic parameters. The functions are newly split to parsed data, notifications, RPCs and replies to the RPCs. Similarly to the schema parsers, also the new data parser API works with <a class="el" href="#transitionGeneralInOut">input handlers</a>. The data printer's API was also extended to use new <a class="el" href="#transitionGeneralInOut">output handlers</a>. However, part of the previous API working directly with inputs and outputs was preserved. More information about the data parser and printer can be found at <a class="el" href="howto_data_parsers.html">Parsing Data</a> and <a class="el" href="howto_data_printers.html">Printing Data</a> pages.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__datatree.html#ga6178f4d657406c996d201707be4e3bee" title="Parse (and validate) data from the input handler as a YANG data tree.">lyd_parse_data()</a>   </td><td class="markdownTableBodyLeft">Redesigned data tree parser.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_parse_xml()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">XML tree format was removed.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_parse_fd()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__datatree.html#gae34a42348850bd12c9aa270fa29d364f" title="Parse (and validate) input data as a YANG data tree.">lyd_parse_data_fd()</a>   </td><td class="markdownTableBodyLeft" rowspan="3">Renamed and limited to data trees only.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_parse_mem()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__datatree.html#gaf6841561d478a90a038ecb4bfcf96cbb" title="Parse (and validate) input data as a YANG data tree.">lyd_parse_data_mem()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_parse_path()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__datatree.html#gaee2e38b19d88ed78edb4a36ebdf2583f" title="Parse (and validate) input data as a YANG data tree.">lyd_parse_data_path()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__datatree.html#ga0be7a3c411cd00c9b98aaf935d6fd785" title="Parse (and validate) data from the input handler as an extension data tree following the schema tree ...">lyd_parse_ext_data()</a>   </td><td class="markdownTableBodyLeft">Separated function for parsing data trees matching a schema tree of the given extension instance.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__datatree.html#ga14fcbaaa7de9f72b7463c7b9ee4a4a62" title="Parse YANG data into an operation data tree. Specific parsing flags LYD_PARSE_ONLY,...">lyd_parse_op()</a>   </td><td class="markdownTableBodyLeft">Separated function for parsing RPCs, actions, replies, and notifications.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="group__datatree.html#gaead44103903fa80d61dd63cbe849e86e" title="Parse extension data into an operation data tree following only the specification from the given exte...">lyd_parse_ext_op()</a>   </td><td class="markdownTableBodyLeft">Separated function for parsing RPCs, actions, replies, and notifications of the given extension instance.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="printer__data_8h.html#acb734d0ec413b55ecb359719b9417849" title="Print the whole data tree of the root, including all the siblings.">lyd_print_all()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">New API accepting <a class="el" href="namespace_3global_scope_4.html#structly__out" title="Printer output structure specifying where the data are printed.">ly_out</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="printer__data_8h.html#a87cf805f7ae25262286c187336e00cec" title="Print the selected data subtree.">lyd_print_tree()</a>   </td></tr>
</table>
<p>Data validation is still done as part of the parser's process. The standalone functionality is available to check the result of data manipulation with the values of the terminal nodes or with the structure of the data tree. In contrast to libyang 1.x, adding the default nodes was made available as a standalone function to simplify the data manipulation process before the final validation.</p>
<p>Many validation flags were removed because they became obsolete (LYD_OPT_DESTRUCT, LYD_OPT_WHENAUTODEL, LYD_OPT_NOEXTDEPS, LYD_OPT_DATA_NO_YANGLIB, LYD_OPT_VAL_DIFF) or we consider them redundant (LYD_OPT_OBSOLETE, LYD_OPT_NOSIBLINGS, LYD_OPT_DATA_ADD_YANGLIB). As for LYD_OPT_TRUSTED, this option was mostly replaced with <a class="el" href="group__dataparseroptions.html#gace0d536000ac46dcbb2d46e5d18c07d0">LYD_PARSE_ONLY</a> because both skip validation but with the significant difference that LYD_OPT_TRUSTED also sets the data node flags to be considered validated. The current option <a class="el" href="group__dataparseroptions.html#gace0d536000ac46dcbb2d46e5d18c07d0">LYD_PARSE_ONLY</a> does not do this because there is now much better support for working with non-validated data trees. Also, in case an invalid tree was marked as validated, it could lead to some undesired behavior, which is now avoided.</p>
<p>Worth mentioning is a difference in the LYB format, which now also stores its validation flags. So, in case a validated data tree is stored, it is also loaded as validated.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_validate()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__datatree.html#ga6eee3eb2c8b66930aed7dbfc42ab4895" title="Fully validate a data tree.">lyd_validate_all()</a>, <a class="el" href="group__datatree.html#gabcee0f25606e3718a14a81639083bb2e" title="Validate an RPC/action request, reply, or notification. Only the operation data tree (input/output/no...">lyd_validate_op()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">Redesigned functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_validate_modules()   </td><td class="markdownTableBodyLeft"><a class="el" href="group__datatree.html#gac242b93e6e64745160fc6941ec5d055a" title="Fully validate a data tree of a module.">lyd_validate_module()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_validate_value(), lyd_value_type()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#ac05e5554a07ea3477126ad802619315f" title="Check type restrictions applicable to the particular leaf/leaf-list with the given string value.">lyd_value_validate()</a>   </td><td class="markdownTableBodyLeft">Redesigned functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a33298dd1881db5a07003e8e85734865f" title="Add any missing implicit nodes. Default nodes with a false &quot;when&quot; are not added.">lyd_new_implicit_all()</a>   </td><td class="markdownTableBodyLeft">New in API to explicitly add default nodes, previously done only as part of the validation process.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a1f7ea402ee911b4e5e5ac9ee1a0d2f84" title="Add any missing implicit nodes of one module. Default nodes with a false &quot;when&quot; are not added.">lyd_new_implicit_module()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">Supplement functionality to <a class="el" href="tree__data_8h.html#a33298dd1881db5a07003e8e85734865f" title="Add any missing implicit nodes. Default nodes with a false &quot;when&quot; are not added.">lyd_new_implicit_all()</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a4277bb5a915017f19523fe30e9528f92" title="Add any missing implicit nodes into a data subtree. Default nodes with a false &quot;when&quot; are not added.">lyd_new_implicit_tree()</a>   </td></tr>
</table>
<p>The <code>diff</code> functionality was completely redesigned. Instead of the array of operations to transform one tree into another, the difference between two data trees has newly a form of the annotated data tree describing the differences. A number of functions to use the diff tree was added into API. To simply compare just nodes, there are the <code>compare</code> functions.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_diff()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a425dc8ab821d6d4d37bd9ad33d47256a" title="Learn the differences between 2 data trees.">lyd_diff_tree()</a>   </td><td class="markdownTableBodyLeft">Redesigned functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a7fba1149adafb0193fe220b67d9df553" title="Learn the differences between 2 data trees including all the following siblings.">lyd_diff_siblings()</a>   </td><td class="markdownTableBodyLeft" rowspan="7">Supplement functionality to <a class="el" href="tree__data_8h.html#a425dc8ab821d6d4d37bd9ad33d47256a" title="Learn the differences between 2 data trees.">lyd_diff_tree()</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#adb182bb2f409970b96bf84bb47e2facf" title="Apply the whole diff tree on a data tree.">lyd_diff_apply_all()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#ad26adfbeb4fbf0c6230b43f2ca42f734" title="Apply the whole diff on a data tree but restrict the operation to one module.">lyd_diff_apply_module()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a76137f507cbab61fc6598d517f18e704" title="Merge 2 diffs into each other.">lyd_diff_merge_all()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a61ce171c3612778614cb88849ab413b4" title="Merge 2 diffs into each other but restrict the operation to one module.">lyd_diff_merge_module()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#abfae39d6833c6ae0fed54f94ac1d79b0" title="Merge 2 diff trees into each other.">lyd_diff_merge_tree()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a9bf6b8a2016c2c98efb96c4ae9d45a3f" title="Reverse a diff and make the opposite changes. Meaning change create to delete, delete to create,...">lyd_diff_reverse_all()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_free_diff()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Removed.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_free_val_diff()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Removed.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#aa1b09abc2714f03fc9301a72015e6f91" title="Compare 2 data nodes if they are equivalent.">lyd_compare_single()</a>   </td><td class="markdownTableBodyLeft">Added functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a3eccd0fdbe9ae8a07ea8c9231eaf1478" title="Compare 2 metadata.">lyd_compare_meta()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">Supplement functionality to <a class="el" href="tree__data_8h.html#aa1b09abc2714f03fc9301a72015e6f91" title="Compare 2 data nodes if they are equivalent.">lyd_compare_single()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a85a6283faa6c4e4a6ad6beb13a697cfa" title="Compare 2 lists of siblings if they are equivalent.">lyd_compare_siblings()</a>   </td></tr>
</table>
<p>For now, the functionality of moving data between two different contexts is not implemented. If you have a real use case for this functionality, let us know.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_dup()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#aa7b420e7711b9ed330e938190cca9bd3" title="Create a copy of the specified data tree node. Schema references are kept the same.">lyd_dup_single()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">Redesigned functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_dup_withsiblings()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a50a5772d4093bd6657dd754732de3029" title="Create a copy of the specified data tree node with any following siblings. Schema references are kept...">lyd_dup_siblings()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#ad3b2524a75058c92b1e591101a68c1d7" title="Create a copy of the metadata.">lyd_dup_meta_single()</a>   </td><td class="markdownTableBodyLeft">Supplement functionality to <a class="el" href="tree__data_8h.html#aa7b420e7711b9ed330e938190cca9bd3" title="Create a copy of the specified data tree node. Schema references are kept the same.">lyd_dup_single()</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_dup_to_ctx()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Transferring data from one context to another is not supported.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_merge()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#aa71f20040dd280c7ab8049068202fb25" title="Merge the source data subtree into the target data tree. Merge may not be complete until validation i...">lyd_merge_tree()</a>   </td><td class="markdownTableBodyLeft">Renamed.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a0c306749d40e1334367b14db7f4bfab7" title="Merge the source data tree with any following siblings into the target data tree. Merge may not be co...">lyd_merge_siblings()</a>   </td><td class="markdownTableBodyLeft">Supplement functionality to <a class="el" href="tree__data_8h.html#aa71f20040dd280c7ab8049068202fb25" title="Merge the source data subtree into the target data tree. Merge may not be complete until validation i...">lyd_merge_tree()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_merge_to_ctx()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Transferring data from one context to another is not supported.   </td></tr>
</table>
<p>There is a significant change in the value structure in terminal nodes. Thanks to the changes in the schema tree, it is now much more straightforward to get the type of the value and work with the alternative representation of the value fitting better to its type. There is also a new API for the type plugins (see <a class="el" href="howto_plugins_types.html">Type Plugins</a>). Even the base YANG data types are now implemented using this API and can be taken as examples for implementing derived data types.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_new(), lyd_new_output()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#ac681e05d82a50293c6cc9cbfad1050de" title="Create a new inner node in the data tree.">lyd_new_inner()</a>, <a class="el" href="tree__data_8h.html#a7e61eda8700065c3630e908bd8f82508" title="Create a new list node in the data tree.">lyd_new_list()</a>, <a class="el" href="tree__data_8h.html#a4953b9d68eb4e533f93aeb11d634eeb7" title="Create a new list node in the data tree.">lyd_new_list2()</a>   </td><td class="markdownTableBodyLeft" rowspan="3">Redesigned functionality to better fit new <a class="el" href="tree__data_8h.html#structlyd__node" title="Generic structure for a data node.">lyd_node</a> structures, creating RPC's output data is now done via a flag parameter of the functions.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_new_leaf(), lyd_new_output_leaf()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#aa0a289ea68ed2160af65314c245e689a" title="Create a new term node in the data tree.">lyd_new_term()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_new_anydata(), lyd_new_output_anydata()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#aaf7104d2de2f2cb3097a2a7dfb1a9956" title="Create a new any node in the data tree.">lyd_new_any()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_new_yangdata()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a744293d284c7a9b4b41f6290e1640af3" title="Create a new top-level inner node defined in the given extension instance.">lyd_new_ext_inner()</a>, <a class="el" href="tree__data_8h.html#a787e2a95c8187488988055b7d947ef24" title="Create a new top-level list node defined in the given extension instance.">lyd_new_ext_list()</a>, <a class="el" href="tree__data_8h.html#ac0f464b732a909c9da359299ff67e9db" title="Create a new top-level term node defined in the given extension instance.">lyd_new_ext_term()</a>, <a class="el" href="tree__data_8h.html#a47fed36624b42c6123c935ab496f7165" title="Create a new top-level any node defined in the given extension instance.">lyd_new_ext_any()</a>   </td><td class="markdownTableBodyLeft">Additional functionality to lyd_new_* functions to cover top-level nodes in extension instances.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_insert_attr()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a2e88f2d851b561f0eb1c966ba181be55" title="Create new metadata.">lyd_new_meta()</a>   </td><td class="markdownTableBodyLeft">Unify naming used in other functions with the similar functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a2c84d9cca4c6f68a8eaa7b184bce2045" title="Create new JSON attribute for an opaque data node. To create an XML attribute, use lyd_new_attr2().">lyd_new_attr()</a>   </td><td class="markdownTableBodyLeft" rowspan="4">Added functionality to store the data (temporarily) not connected with schema definitions.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#aa7cc4e94963cee8ec1c04813218e266c" title="Create new XML attribute for an opaque data node. To create a JSON attribute, use lyd_new_attr().">lyd_new_attr2()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a298fe45ddae4447e25ce179c5ed14e47" title="Create a new JSON opaque node in the data tree. To create an XML opaque node, use lyd_new_opaq2().">lyd_new_opaq()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#afefaab2ce7b396d269bd956ba193fb85" title="Create a new XML opaque node in the data tree. To create a JSON opaque node, use lyd_new_opaq().">lyd_new_opaq2()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a1f8d709533cfc82522da20a882dd086b" title="Create a new node in the data tree based on a path. All node types can be created.">lyd_new_path2()</a>   </td><td class="markdownTableBodyLeft">Supplement functionality to <a class="el" href="tree__data_8h.html#a164faee35d90e24371b237a0969cf73b" title="Create a new node in the data tree based on a path. If creating anyxml/anydata nodes,...">lyd_new_path()</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">LYD_PATH_OPT_NOPARENTRET   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a1f8d709533cfc82522da20a882dd086b" title="Create a new node in the data tree based on a path. All node types can be created.">lyd_new_path2()</a>   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a1f8d709533cfc82522da20a882dd086b" title="Create a new node in the data tree based on a path. All node types can be created.">lyd_new_path2()</a> returns both the first parent and the wanted node.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">LYD_PATH_OPT_EDIT   </td><td class="markdownTableBodyLeft"><a class="el" href="group__pathoptions.html#ga34992242f70b3517145ffecb84418d9f">LYD_NEW_PATH_OPAQ</a>   </td><td class="markdownTableBodyLeft">This functionality was replaced by opaq nodes.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a9319dac303b26b9a29d7ba9f31890eb0" title="Create a new node defined in the given extension instance. In case of anyxml/anydata nodes,...">lyd_new_ext_path()</a>   </td><td class="markdownTableBodyLeft">Supplement functionality to <a class="el" href="tree__data_8h.html#a164faee35d90e24371b237a0969cf73b" title="Create a new node in the data tree based on a path. If creating anyxml/anydata nodes,...">lyd_new_path()</a> covering data defined in extension instances.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_insert()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a2c974e2b6993714fc5ee70ace4c5a654" title="Insert a child into a parent.">lyd_insert_child()</a>   </td><td class="markdownTableBodyLeft">Renamed to better distinguish from <a class="el" href="tree__data_8h.html#afc790b985c813c804f5a345b8483e7e0" title="Insert a node into siblings.">lyd_insert_sibling()</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_change_leaf()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a2a3a996de8ea707118845efb469599be" title="Change the value of a term (leaf or leaf-list) node to a string value.">lyd_change_term()</a>   </td><td class="markdownTableBodyLeft">Align naming with changed names of data structures.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a2223ce5290db18c8449a70383ab591c5" title="Change the value of a metadata instance.">lyd_change_meta()</a>   </td><td class="markdownTableBodyLeft">Transferred functionality of <a class="el" href="tree__data_8h.html#a2a3a996de8ea707118845efb469599be" title="Change the value of a term (leaf or leaf-list) node to a string value.">lyd_change_term()</a> to metadata.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a99e9d4064e9668bea11ccd46bad8bd2e" title="Copy anydata value from one node to another. Target value is freed first.">lyd_any_copy_value()</a>   </td><td class="markdownTableBodyLeft">Added functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_free()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a409465a6286af6f7c68f7f96484967f1" title="Free (and unlink) the specified data (sub)tree.">lyd_free_tree()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">Renamed.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_free_withsiblings()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a0678ec989c6861afc9d14b77630b4719" title="Free all the nodes (even parents of the node) in the data tree.">lyd_free_all()</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a754d99a44cfa7f8b2ba9c0e2b9270825" title="Free all the sibling nodes (preceding as well as succeeding).">lyd_free_siblings()</a>   </td><td class="markdownTableBodyLeft">Supplement functionality to <a class="el" href="tree__data_8h.html#a754d99a44cfa7f8b2ba9c0e2b9270825" title="Free all the sibling nodes (preceding as well as succeeding).">lyd_free_siblings()</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_free_attr()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#acea574f4dbd92833dee7a0ee439817ed" title="Free a single attribute.">lyd_free_attr_single()</a>   </td><td class="markdownTableBodyLeft">Renamed.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#abd528ccf51d9f2fb366116453d1ccffb" title="Free the attribute with any following attributes.">lyd_free_attr_siblings()</a>   </td><td class="markdownTableBodyLeft">Supplement functionality to <a class="el" href="tree__data_8h.html#acea574f4dbd92833dee7a0ee439817ed" title="Free a single attribute.">lyd_free_attr_single()</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#af71e80898290ebde33f2d760a5d98e0a" title="Free a single metadata instance.">lyd_free_meta_single()</a>   </td><td class="markdownTableBodyLeft" rowspan="2">Added functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a0ddedd7a41e22fe4a39e2c2067db3e1e" title="Free the metadata instance with any following instances.">lyd_free_meta_siblings()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_unlink()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#af324d1f04fa5eba220e14706c6a81c67" title="Unlink the specified data subtree.">lyd_unlink_tree()</a>   </td><td class="markdownTableBodyLeft">Renamed.   </td></tr>
</table>
<p>Here is the table of other changes in data API.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">libyang 1.x   </th><th class="markdownTableHeadLeft">libyang 2.0   </th><th class="markdownTableHeadLeft">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_find_instance()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Removed.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_find_sibling()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft" rowspan="2">Removed, functionality can be replaced by <a class="el" href="tree__data_8h.html#a8f65c822293a6c813fae62c343f1ba54" title="Search in the given siblings for the first schema instance. Uses hashes - should be used whenever pos...">lyd_find_sibling_val()</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_find_sibling_set()   </td><td class="markdownTableBodyLeft">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a42a45977540ff618d4c129e8a4fb36dd" title="Search in the given siblings (NOT recursively) for the first target instance with the same value....">lyd_find_sibling_first()</a>   </td><td class="markdownTableBodyLeft">Alternative function to <a class="el" href="tree__data_8h.html#a8f65c822293a6c813fae62c343f1ba54" title="Search in the given siblings for the first schema instance. Uses hashes - should be used whenever pos...">lyd_find_sibling_val()</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#aa53edb144ccb0cb1934548d532d69cdc" title="Find a specific metadata.">lyd_find_meta()</a>   </td><td class="markdownTableBodyLeft">New functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_wd_default()   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#abf94dd13c544c7be9a49c6d30c1de473" title="Check whether a node value equals to its default one.">lyd_is_default()</a>   </td><td class="markdownTableBodyLeft">Renamed to unlink from with-default capability.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#ae1dda28aa5d60cf74f1527543535ca21" title="Get the generic parent pointer of a data node.">lyd_parent()</a>   </td><td class="markdownTableBodyLeft">New wrapper to get generic <a class="el" href="tree__data_8h.html#structlyd__node" title="Generic structure for a data node.">lyd_node</a> pointer of the parent.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#afe1dca771b11b89fe1123f4a52fe1db1" title="Get the child pointer of a generic data node.">lyd_child()</a>, <a class="el" href="tree__data_8h.html#a78978bdaafb3f364662b12e54ac29455" title="Get the child pointer of a generic data node but skip its keys in case it is LYS_LIST.">lyd_child_no_keys()</a>   </td><td class="markdownTableBodyLeft">New wrapper to cover all children possibilities hidden behind a generic <a class="el" href="tree__data_8h.html#structlyd__node" title="Generic structure for a data node.">lyd_node</a> structure.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#ab8741b9abcc8770f30eeba991b4e5f18" title="Get the owner module of the data node. It is the module of the top-level schema node....">lyd_owner_module()</a>   </td><td class="markdownTableBodyLeft">Added functionality.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a8ea976bf69714042da3271c56c9e0690" title="Compare the node&#39;s value with the given string value. The string value is first validated according t...">lyd_value_compare()</a>   </td><td class="markdownTableBodyLeft">Added Functionality.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a0fa0f950b696146e44da0d4f3259e749" title="Deprecated, use lyd_find_target() instead.">lyd_target()</a>   </td><td class="markdownTableBodyLeft">Added functionality for the instance-identifier representation.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="tree__data_8h.html#a3a6559a67f87c974fe977d95ccfb9875" title="Get the module of a node. Useful mainly for opaque nodes.">lyd_node_module()</a>   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Not necessary since the connection with the compiled modules is much more straightforward.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">lyd_leaf_type()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Not necessary since the real type information is much more clear from the new <a class="el" href="tree__data_8h.html#structlyd__value" title="YANG data representation.">lyd_value</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">lyd_dec64_to_double()   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft" rowspan="2">Removed as useless.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="printer__data_8h.html#a5c1b579fce2227bdaefe39440aa2beb5" title="Check whether the node should be printed based on the printing options.">lyd_node_should_print()</a>   </td><td class="markdownTableBodyLeft">-   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Jan 28 2025 10:44:39 for libyang by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
